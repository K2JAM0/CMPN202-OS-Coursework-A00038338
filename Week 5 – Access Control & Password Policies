Week 5 — Phase 5: MAC, fail2ban, Automatic Updates, Scripts
═══════════════════════════════════════════════════════
MANDATORY ACCESS CONTROL
Ubuntu (AppArmor) evidence:
sudo aa-status

![AppArmour status evidence](images/week5/apparmor-status.png)
*Figure 1: AppArmor status on Ubuntu Server showing loaded profiles and active enforcement mode,
enforcement mode, confirming mandatory access control is enabled.

Explain enforce vs complain: Enforce mode actively blocks actions that violate security
profiles, and complain mode only logs the violations but does not prevent them.

Fedora (SELinux):
sestatus
getenforce

![SELinux enforcing status](images/week5/selinux-status.png)
*Figure 2: SELinux status on the Fedora workstation showing SELinux enabled and enforcing,
providing mandatory access control for system processes.*

Trade-off (security vs stability): Automatic security updates reduce exposure to known vulnerabilities,
but there is a small risk of unexpected behaviour if a package update changes service behaviour and requires restarts.

═══════════════════════════════════════════════════════
AUTOMATIC SECURITY UPDATES
Ubuntu:
sudo apt install unattended-upgrades -y
sudo dpkg-reconfigure -plow unattended-upgrades
sudo systemctl status unattended-upgrades --no-pager

![Unattended upgrades active](images/week5/unattended-upgrades-status.png)
*Figure 3: Unattended upgrades service running on Ubuntu Server, confirming automatic installation of security updates.*

Trade-off (security vs stability): Automatic security updates improve the system security
by ensuring critical patches are applied, but it may introduce stability risks if 
it updates after running services
═══════════════════════════════════════════════════════
fail2ban
sudo apt install fail2ban -y
sudo systemctl enable --now fail2ban
sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
sudo nano /etc/fail2ban/jail.local
# Enable [sshd] and set maxretry/findtime/bantime
sudo systemctl restart fail2ban
sudo fail2ban-client status
sudo fail2ban-client status sshd

![Fail2Ban SSH jail active](images/week5/fail2ban-sshd-status.png)
*Figure 4: Fail2Ban running on Ubuntu Server with the SSH (sshd) jail enabled,
automatically banning IP addresses after a certain number of failed login attempts.
This will reduce the risk of brute-force attacks.*
═══════════════════════════════════════════════════════
SCRIPT 1: security-baseline.sh (server) — include full script with comments + output
[PASTE YOUR SCRIPT HERE]
□ Screenshot running script output
═══════════════════════════════════════════════════════
SCRIPT 2: monitor-server.sh (workstation) — include full script with comments + output
[PASTE YOUR SCRIPT HERE]
□ Screenshot running script output
═══════════════════════════════════════════════════════

